<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="ip-ledger-line" attributes="ledger">
  <template>
    <link rel="stylesheet" href="ip-ledger-line.css">
    <h2>Входящие переводы <i class="fa fa-plus-circle add" on-click="{{openRemittanceForm}}"></i></h2>
    <template repeat="{{remittance in ledger.remittances}}">
      <ip-ledger-remittance remittance="{{remittance}}"></ip-ledger-remittance>
    </template>
    <div style="clear:both;"></div>
    <h2>Обмены валют <i class="fa fa-plus-circle add" on-click="{{openExchangeForm}}"></i></h2>
    <template repeat="{{exchange in ledger.exchanges}}">
      <ip-ledger-exchange exchange="{{exchange}}"></ip-ledger-exchange>
    </template>
    <div style="clear:both;"></div>
    <h2>Итого налогов:</h2>
    <template repeat="{{tax in taxes}}">
      <div>По ставке {{tax.tax_rate*100}}% по налоговой базе {{tax.tax_base}} к уплате {{tax.tax_amount}}
      </div>
    </template>
    <ip-ledger-remittance-form id="remittanceForm" ledger="{{ledger}}"></ip-ledger-remittance-form>
    <ip-ledger-exchange-form id="exchangeForm" ledger="{{ledger}}"></ip-ledger-exchange-form>
  </template>
  <script src="../../../bower_components/lodash/lodash.js"></script>
  <script src="ip-ledger-line.js"></script>
</polymer-element>
